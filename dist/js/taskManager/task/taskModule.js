define(["require","angular","./taskGetScriptProvider","./taskLoadProvider","./taskActivateProvider","./taskDirective"],function(e){var t=e("angular"),n=t.module("pi.task",[]);return n.service("taskGetScript",e("./taskGetScriptProvider")),n.service("taskLoad",e("./taskLoadProvider")),n.provider("taskActivate",e("./taskActivateProvider")),n.directive("piTask",e("./taskDirective")),n.config(["taskActivateProvider",function(e){e.set("quest",function(e,t){var n=t.$injector.get("$compile"),r=t.$element,i=t.$scope,s;r.append("<div pi-quest></div>"),s=r.contents(),n(s)(i),s.controller("piQuest").task.q.promise.then(function(){s.scope().$destroy(),s.remove(),e()})})}]),n});