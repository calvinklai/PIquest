define(["require","text!./taskTemplate.html"],function(e){function n(e,n,r,i){return{replace:!0,template:t,require:[],scope:{data:"=piTask"},link:function(t,n){var s=e.global;t.$watch("data",function(e){if(!e)return;var o=n.children().eq(1);t.loading=!0,r(e).then(function(n){t.loading=!1,t.script=n,e.pre&&e.pre(s),i(e,n,o,t).then(function(){e.post&&e.post(s),o.empty(),t.$emit("task:end",arguments)})})})}}}var t=e("text!./taskTemplate.html");return n.$inject=["$rootScope","$compile","taskLoad","taskActivate"],n});