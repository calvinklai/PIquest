define(["require","text!./text.html","text!./textarea.html","angular"],function(e){function i(){return{replace:!0,template:function(e,r){return"questText"in r?t:n},require:["form","ngModel"],controller:"questController",controllerAs:"ctrl",scope:{data:"=questData"},link:function(e,t,n,i){function f(t){var n=r.element(t.target),i=n.val(),s=a.maxlength||i.length;e.response=i.slice(0,s)}var s=i[0],o=i[1],u=e.ctrl,a=e.data;e.form=s,e.maxlengthLimit=f,u.registerModel(o,{dflt:""}),a.autoSubmit&&t.bind("keydown keypress",function(t){t.which===13&&(e.$apply(function(){e.$emit("quest:submit:now")}),t.preventDefault())})}}}var t=e("text!./text.html"),n=e("text!./textarea.html"),r=e("angular");return i});