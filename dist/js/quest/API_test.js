define(["./API"],function(e){describe("API",function(){var t,n;beforeEach(function(){t=new e,n=t.script}),it("should create a script object",function(){expect(n).toEqual(jasmine.any(Object))}),it("should addSettings correctly",function(){expect(n.settings).toEqual(jasmine.any(Object)),t.addSettings("test",{a:1}),t.addSettings("test",{b:2}),expect(n.settings.test.a).toBe(1),expect(n.settings.test.b).toBe(2),t.addSettings("test",123),expect(n.settings.test).toBe(123)}),it("should addPagesSet correctly",function(){var e={},r={};expect(n.pages).toEqual(jasmine.any(Array)),t.addPagesSet("test1",e),expect(n.pages[0]).toBe(e),expect(n.pages[0].set).toBe("test1"),t.addPagesSet("test2",[r,e]),expect(n.pages[1]).toBe(r),expect(n.pages[1].set).toBe("test2"),expect(n.pages[2]).toBe(e),expect(n.pages[2].set).toBe("test2")}),it("should addQuestionsSet correctly",function(){var e={},r={};expect(n.questions).toEqual(jasmine.any(Array)),t.addQuestionsSet("test1",e),expect(n.questions[0]).toBe(e),expect(n.questions[0].set).toBe("test1"),t.addQuestionsSet("test2",[r,e]),expect(n.questions[1]).toBe(r),expect(n.questions[1].set).toBe("test2"),expect(n.questions[2]).toBe(e),expect(n.questions[2].set).toBe("test2")}),it("should addSequence correctly",function(){expect(n.sequence).toEqual(jasmine.any(Array)),t.addSequence(123),expect(n.sequence[0]).toBe(123),t.addSequence([2,3]),expect(n.sequence[1]).toBe(2),expect(n.sequence[2]).toBe(3)}),it("should addGlobal correctly",function(){expect(n.global).toEqual(jasmine.any(Object)),t.addGlobal({a:1,b:{c:3}}),t.addGlobal({b:{d:4}}),expect(n.global.a).toBe(1),expect(n.global.b.c).toBe(3),expect(n.global.b.d).toBe(4),expect(function(){t.addGlobal(123)}).toThrow()}),it("should addCurrent correctly",function(){expect(n.current).toEqual(jasmine.any(Object)),t.addCurrent({a:1,b:{c:3}}),t.addCurrent({b:{d:4}}),expect(n.current.a).toBe(1),expect(n.current.b.c).toBe(3),expect(n.current.b.d).toBe(4),expect(function(){t.addCurrent(123)}).toThrow()})})});