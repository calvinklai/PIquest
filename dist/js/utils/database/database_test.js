define(["underscore","./database-module"],function(e){describe("database constructor",function(){var t,n=jasmine.createSpy("inflate"),r=jasmine.createSpyObj("store",["create","add","read"]);beforeEach(module("database",function(t){t.value("DatabaseStore",function(){e.extend(this,r)}),t.value("DatabaseRandomizer",function(){}),t.value("databaseInflate",n)})),beforeEach(inject(function(e){t=new e})),it("should create a local store",inject(function(e){expect(t.store).toEqual(jasmine.any(e))})),it("should create a local randomizer",inject(function(e){expect(t.randomizer).toEqual(jasmine.any(e))})),it('should "get" and inflate an object',function(){r.read.andReturn("coll"),n.andReturn(123);var e=t.inflate("namespace","obj");expect(e).toBe(123),expect(n).toHaveBeenCalledWith("obj","coll",t.randomizer)}),it('should "createColl" a column',function(){t.createColl(123),expect(r.create).toHaveBeenCalledWith(123)}),it('should "add" data',function(){r.add(123),expect(r.add).toHaveBeenCalledWith(123)})})});