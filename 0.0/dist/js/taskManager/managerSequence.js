define(["require","underscore"],function(e){function n(e){function n(t){var r;if(!(this instanceof n))return new n(t);r=this.db=new e,r.createColl("tasks"),r.add("tasks",t.tasksSets||[]),this.sequence=r.sequence("tasks",t.sequence)}return t.extend(n.prototype,{next:function(){return this.sequence.next(),this},prev:function(){return this.sequence.prev(),this},current:function(){return this.sequence.current()}}),n}var t=e("underscore");return n.$inject=["Database"],n});