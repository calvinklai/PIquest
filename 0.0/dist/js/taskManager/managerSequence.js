define(["require","underscore"],function(e){function n(e,n){function r(t){var i;if(!(this instanceof r))return new r(t);i=this.db=new n,i.createColl("tasks"),i.add("tasks",t.tasks||[]),this.sequence=new e("tasks",t.sequence,i)}return t.extend(r.prototype,{next:function(){return this.sequence.next(),this},prev:function(){return this.sequence.prev(),this},current:function(){return this.sequence.current()}}),r}var t=e("underscore");return n.$inject=["TaskSequence","Database"],n});