(function(e,t){if(typeof define=="function"&&define.amd)define([],t);else{var n=angular.module("ovts",[]);n.directive("ovtsSlider",t(e.angular))}})(this,function(){function e(e){return{scope:{options:"=ovtsSliderOptions"},replace:!0,require:"ngModel",template:['<div class="slider" ng-mousedown="onSliderMouseDown($event)">','<div class="slider-label-left">{{options.leftLabel}}</div>','<div class="slider-label-right">{{options.rightLabel}}</div>','<div class="slider-container">','<div class="slider-bar">','<div class="slider-bar-highlight" ng-style="highlightStyle"></div>',"</div>",'<div class="slider-bar-stub"></div>','<div class="slider-handle" ng-mousedown="onHandleMousedown($event)" ng-style="handleStyle"></div>',"</div>",'<ul class="slider-pips">','<li ng-repeat="i in getNumber(steps) track by $index" ng-style="{width: pipWidth + \'%\'}"></li>',"</ul>","</div>"].join("\n"),link:function(n,r,i,s){function a(e){return!n.steps||s.$isEmpty(e)?e:Math.round(e*n.steps)/n.steps}function f(e){return isNaN(parseFloat(e))||!isFinite(e)}function l(){var e=a(s.$viewValue),t=!isNaN(e),r=t&&u.highlight;n.highlightStyle={right:100-e*100+"%",opacity:+r},n.handleStyle={left:e*100+"%",opacity:+t}}function c(e){return s.$isEmpty(e)?NaN:(e=Math.min(Math.max(e,n.min),n.max),(e-n.min)/n.range)}function h(e){return+(n.min+a(e)*n.range).toFixed(4)}function p(i){function f(e){t(e);var i=u+(e.pageX-a)/(r.prop("clientWidth")-o);i=Math.min(i,1),i=Math.max(i,0),n.$apply(function(){s.$setViewValue(i),s.$render()})}function l(){e.off("mousemove",f),e.off("mouseup",l)}t(i);var u,a;i.preventDefault(),a=i.pageX,u=s.$viewValue,e.on("mousemove",f),e.on("mouseup",l)}function d(e){t(e),e.preventDefault();var n=r.prop("clientWidth"),i=r[0].getBoundingClientRect().left,u=(e.pageX-i)/(n-o);s.$setViewValue(u),s.$render()}var o,u=n.options||{};o=r[0].querySelector(".slider-handle").clientWidth,n.ngModel=s,n.steps=u.steps||0,n.min=u.min||0,n.max=u.max||n.min+100,n.range=n.max-n.min,n.pipWidth=u.steps&&100/u.steps,s.$isEmpty=f,s.$render=l,s.$formatters.push(c),s.$parsers.push(h),n.onHandleMousedown=p,n.onSliderMouseDown=d,n.getNumber=function(t){return new Array(t)}}}}function t(e){var t,n,r;e.pageX==null&&e.clientX!=null&&(t=e.target.ownerDocument||document,n=t.documentElement,r=t.body,e.pageX=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),e.pageY=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0))}return e.$inject=["$document","$sce"],e});