define(["require","underscore"],function(e){function n(e){function n(t,n,r){this.namespace=t,this.mixerSequence=new e(n),this.db=r}return t.extend(n.prototype,{next:function(e){return this.mixerSequence.next(e),this},prev:function(e){return this.mixerSequence.prev(e),this},current:function(e){e||(e={});var t=this.mixerSequence.current(e);return t?this.db.inflate(this.namespace,t,e):t},all:function(e){var t=[],n=this.next().current(e);while(n)t.push(n),n=this.next().current(e);return t}}),n}var t=e("underscore");return n.$inject=["MixerSequence"],n});